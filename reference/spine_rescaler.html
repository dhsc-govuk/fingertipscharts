<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Rescale spine data — spine_rescaler • fingertipscharts</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rescale spine data — spine_rescaler"><meta name="description" content="Rescales data so it can be plotted on a spine chart"><meta property="og:description" content="Rescales data so it can be plotted on a spine chart"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fingertipscharts</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.15</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/quick_charts.html">Producing charts available on Fingertips</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PublicHealthEngland/fingertipscharts/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Rescale spine data</h1>
      <small class="dont-index">Source: <a href="https://github.com/PublicHealthEngland/fingertipscharts/blob/master/R/spine_chart_utils.R" class="external-link"><code>R/spine_chart_utils.R</code></a></small>
      <div class="d-none name"><code>spine_rescaler.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Rescales data so it can be plotted on a spine chart</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">spine_rescaler</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">area_code</span>,</span>
<span>  <span class="va">indicator</span>,</span>
<span>  <span class="va">significance</span>,</span>
<span>  <span class="va">polarity</span>,</span>
<span>  <span class="va">area_type</span>,</span>
<span>  <span class="va">value</span>,</span>
<span>  <span class="va">timeperiod</span>,</span>
<span>  <span class="va">local_area_code</span>,</span>
<span>  <span class="va">median_line_area_code</span>,</span>
<span>  comparator_area_code <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  <span class="va">percent_display</span>,</span>
<span>  dps <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a data frame to create the spine chart from. The data frame
should contain records for all area types included in the chart (eg, if
plotting for County &amp; UA with a comparator of region and a median line for
national, the data frame should contain records for all of these data). The
minimum field requirements in the data frame are; value, count, area_code,
indicator, timeperiod, polarity, significance, area_type. See below for the
definitions of these fields</p></dd>


<dt id="arg-area-code">area_code<a class="anchor" aria-label="anchor" href="#arg-area-code"></a></dt>
<dd><p>unquoted field name for the field where area codes are
stored (local_area_code, median_line_area_code and comparator_area_code, if
using, should all exist in this field)</p></dd>


<dt id="arg-indicator">indicator<a class="anchor" aria-label="anchor" href="#arg-indicator"></a></dt>
<dd><p>unquoted field name for the field of the field containing
the indicator labels. Take care as errors will occur where indicator labels
are the same but data exist for multiple sub-categories (for example, sex
or age)</p></dd>


<dt id="arg-significance">significance<a class="anchor" aria-label="anchor" href="#arg-significance"></a></dt>
<dd><p>unquoted field name for the field describing the
statistical significance for that indicator. This determines the colour of
the point within the spine for the area. Colours are built in for the
following significances; 'Better', 'Same', 'Worse', 'Not compared', 'None',
'Higher', 'Similar', 'Lower'. Use the cols argument to colour other
significance values</p></dd>


<dt id="arg-polarity">polarity<a class="anchor" aria-label="anchor" href="#arg-polarity"></a></dt>
<dd><p>unquoted field name for the field containing the polarity
information (currently only handles "Not applicable", "RAG - Low is good",
"RAG - High is good", "BOB - Blue orange blue")</p></dd>


<dt id="arg-area-type">area_type<a class="anchor" aria-label="anchor" href="#arg-area-type"></a></dt>
<dd><p>unquoted field name for the field containing area type
information. This ensures the vertabra are only plotted for the same area
types as the local_area area type (eg, when plotting a spine chart for
County &amp; UA areas, regions and national area types will be removed)</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>unquoted field name for the field containing the values to be
plotted</p></dd>


<dt id="arg-timeperiod">timeperiod<a class="anchor" aria-label="anchor" href="#arg-timeperiod"></a></dt>
<dd><p>unquoted field name for the field of the time period field.
This gets used in the accompanying data table</p></dd>


<dt id="arg-local-area-code">local_area_code<a class="anchor" aria-label="anchor" href="#arg-local-area-code"></a></dt>
<dd><p>string; the code of the area whose data is being
presented</p></dd>


<dt id="arg-median-line-area-code">median_line_area_code<a class="anchor" aria-label="anchor" href="#arg-median-line-area-code"></a></dt>
<dd><p>string; area code for the median line. Defaults
to "E92000001" (England)</p></dd>


<dt id="arg-comparator-area-code">comparator_area_code<a class="anchor" aria-label="anchor" href="#arg-comparator-area-code"></a></dt>
<dd><p>string; area code for the comparator point.
Defaults to NA</p></dd>


<dt id="arg-percent-display">percent_display<a class="anchor" aria-label="anchor" href="#arg-percent-display"></a></dt>
<dd><p>number between 0 and 1; the percentage of values that
needs to exist for a spine to display. Default is 0.25</p></dd>


<dt id="arg-dps">dps<a class="anchor" aria-label="anchor" href="#arg-dps"></a></dt>
<dd><p>number; number of decimal places to be displayed in the data
table. The default is 1. Set to NA if this should be the same as the input
data</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing "bars" and "points" which contains data that can be
  passed to the phe_spine_chart function</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Annabel Westermann, Sebastian Fox.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

